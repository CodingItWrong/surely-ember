<div {{did-update this.resetStateIfModelChanged @category}}>
  {{#if @error}}
    <div
      role="alert"
      class="alert alert-danger m-3"
      data-test-error-message
    >
      Error loading category
    </div>
  {{else}}
    <div class="card m-3">
      <form
        {{on "submit" this.handleSave}}
        data-test-category-edit-form
      >
        <div class="card-body">
          <div
            class="form-group"
            data-test-category-name-field
          >
            <label for="category-name-field">
              Category Name
            </label>
            <Input
              @value={{this.editedName}}
              {{on "keyDown" this.handleTitleKeyDown}}
              id="category-name-field"
              class="form-control title-input"
              required
            />
          </div>

          {{#if this.errorMessage}}
            <div
              class="alert alert-danger"
              role="alert"
              data-test-error-message
            >
              {{this.errorMessage}}
            </div>
          {{/if}}

          <div class="app-button-container">
            <button
              {{on "click" @onCancel}}
              type="button"
              class="btn btn-light"
              data-test-cancel-edit-button
            >
              Cancel
            </button>
            {{#if @onDelete}}
              <button
                {{on "click" this.handleDelete}}
                type="button"
                class="btn btn-light"
                data-test-delete-button
              >
                Delete
              </button>
            {{/if}}
            <button
              type="submit"
              class="btn btn-primary"
              disabled={{this.saving}}
              data-test-save-button
            >
              {{paper-icon "save"}}
              {{#if this.saving}}
                Savingâ€¦
              {{else}}
                Save
              {{/if}}
            </button>
          </div>
        </div>
      </form>
    </div>
  {{/if}}
</div>
